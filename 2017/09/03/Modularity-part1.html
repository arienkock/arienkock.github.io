<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="Arien Kock is Positor, a freelance Java web developer and consultant. I build connected applications and continuous delivery pipelines. This is home to my blog and professional profile.">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Modularity Deep Dive - pt. 1 - Positor</title>
	<link rel="icon" href="/images/favicon.png" type="image/png">
	<link rel="apple-touch-icon" href="/images/favicon.png">
	<link rel="shortcut icon" href="/images/favicon.png" type="image/png">

    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <!-- Place favicon.ico in the root directory -->

    <link rel="stylesheet" href="/styles/main.css">

	<link rel="stylesheet" href="/styles/highlight/solarized-dark-custom.css">
  </head>
  <body>
    <!--[if lt IE 10]>
      <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <div class="container">
		<div class="header">
			<div class="logo">
				<a href="/">
				<h1>Positor</h1>
				<p>Building solutions with code</p>
				</a>
			</div>
			<!--div class="menu">
				<div class="item"></div>
				<div class="item"></div>
				<div class="item navItem"><a href="/">Blog</a></div>
				<div class="item navItem"><a href="/profile.html">Profile</a></div>
			</div-->
		</div>
		<div class="content">
			
<div class="article">
<h1 class="articleTitle">Modularity Deep Dive - pt. 1</h1>
<div class="posted-on-date">Posted on 2017-9-3</div>
<p>Part 1 | <a href="/2017/10/22/Modularity-part2.html">Part 2</a></p>
<p>Why is it so hard to &quot;do the right thing&quot;? It&#39;s always easier to insert more code than it is to refactor. First you have to decide what belongs where as you take things apart. Then you have to reimplement all the tests and clean up all the errors that occur as responsibilities move and change. It&#39;s both difficult as well as a lot of work. But it&#39;s worth it. Sometimes, when I do a good job of it, I get to reuse the component in a new and unforseen way. Those moments make me feel like some sort of genius programmer. I like those moments. That is modularity. </p>
<p>I wrote this post, because, approximately two years ago something happened. Project Jigsaw was getting a lot of attention and since then I spent a lot of time reading and thinking about modularity. This article isn&#39;t about JPMS, but rather modularity as a design concept. In this post I&#39;ll talk about:</p>
<ol>
<li>Why do we want to make things modular?</li>
<li><p>What makes a good module?</p>
<h2 id="research">Research</h2>
<p>I was born in &#39;82 and as a student I didn&#39;t do a lot of extracurricular reading. For a long time I&#39;ve been unaware of a lot of the academic history of computer science. Thankfully, I watch a lot of YouTube. I came across a video of <strong>GOTO conf 2016</strong> where at <a href="https://youtu.be/r18BaOHRpE8?t=34m43s">minute 34</a> the host seems to call me out personally for never having read <a href="https://en.wikipedia.org/wiki/David_Parnas">David L. Parnas&#39;</a> work on modularity. So, I did. </p>
<p>The take-away from the paper &quot;<a href="https://www.cs.umd.edu/class/spring2003/cmsc838p/Design/criteria.pdf">On the Criteria To Be Used in Decomposing Systems into Modules</a>&quot;, as the title suggests, is a criterion. A <em>rule</em> that tells you where to draw the lines when you draw those boxes on paper. You know, those boxes that only vaguely map to the actual code you end up writing? The rule, Parnas concludes, is to <strong>modularize around difficult design decisions</strong>. For example: how do we store our data? Are we sure? How likely is it to change? Let&#39;s <em>abstract it</em>. Our data storage and schema is now abstracted into a module that hides the details. If done well, it makes it easier to change later. At the same time, it makes concrete what our requirements are. This rule sounds awfully familiar. I must have heard something similar somewhere else on YouTube.</p>
</li>
</ol>
<p>It sounds a lot like <a href="https://youtu.be/Nsjsiz2A9mg?t=56m31s">Robert Martin on Clean Architecture</a>. Both Parnas&#39; paper and Clean Architecture highlight something important about software design. The reason why we need to create modules is to postpone decisions, which gives us <strong>future agility</strong>. Or as Bob puts it: </p>
<blockquote>
<p>&quot;Later is always better when you&#39;re making decisions; you have more information later.&quot; </p>
</blockquote>
<p>Using &quot;decision deferment&quot; as a guiding principle produces different modules than separating logic into steps in a data processing pipeline. Knowing this certainly does not make it an easy thing to do. Thinking through it takes time. Time not spent writing code, which can feel or look unproductive. On the upside, it can save you the long discussions about choosing technology and futile attempts at predicting the future. On an even more upside, as long as the modules&#39; contracts don&#39;t change, they can be worked on in parallel.</p>
<h2 id="conclusion">Conclusion</h2>
<p>The answer to the first question &quot;Why write modular code?&quot; is: <em>In order to remain agile</em>. Had you asked me two years ago, I might have said something about <em>reusability</em>. But that is a feature of how they are implemented, not the reason why we made them in the first place. Being agile is easy when you start out, because you have no other code. Staying agile takes deliberate and careful design. Now the answer to the second question &quot;What makes a good module?&quot; seems pretty obvious: <em>One that makes future change easy</em>. I believe modules can do these things. But only when we, the programmers, choose the right boundaries.</p>

</div>

		</div>
	</div>

    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='https://www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-19252179-3');ga('send','pageview');
    </script>
	<script src="/scripts/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
